import { Meta } from "@storybook/blocks";
import { Diagram } from "./styled.components.ts"
import ReduxDataFlowDiagram from "./assets/ReduxDataFlowDiagram-49fa8c3968371d9ef6f2a1486bd40a26.gif"
import Accordion from '@mui/material/Accordion';
import AccordionDetails from '@mui/material/AccordionDetails';
import AccordionSummary from '@mui/material/AccordionSummary';
import Alert from '@mui/material/Alert';

<Meta title="Topic/Redux/React Redux" />

### React Redux
<Alert severity="info" icon={<></>}>
After reading the [Introduction](!?path=/docs/topic-redux-introduction--docs), 
we understood the basic principle of redux, and how to create a store, how to write a reducer, how to dispatch an action.
**But the only remain thing is how to update screen after state change?**
</Alert>

Redux Application Data Flow Diagram: 
<Diagram src={ReduxDataFlowDiagram}  /> 




<br />
<br />
<br /> 


### subscribe
As you can see on the diagram, you need to make UI re-render after state updateTodo, 
assume you have create a store already, below is the fake code to trigger UI re-render:
```tsx
export function Page() {
    useEffect(() => {
        // subscribe the state mutation
        store.subscribe(() => {
            forceUpdate();
        })
    }, [])

    // the scrren will update with the newest state
    return <div>{store.getState()}</div>
}
```
<Alert severity="info" icon={<></>}>
If we write `subscribe` code everywhere, our pages will become more bulky, 
we hope you can focus on the UI logic instead of do much thing on those repeated code.
so react-redux **implictly** help us subscribe the store update.
</Alert>

By using react-redux, we dont need to write `subscribe` again.


### hooks
**react-redux** also provide us many useful hooks to let us utilize it friendly: 
`useSelector`
`useDispatch`
`useStore`
...
If you want you can refer the [Hooks](https://react-redux.js.org/api/hooks) to check the details.

 
